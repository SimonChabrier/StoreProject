{% extends 'base.html.twig' %}

{% block title %}ProductType{% endblock %}

{% block body %}
    <h1>ProductType</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ product_type.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ product_type.name }}</td>
            </tr>
        </tbody>
    </table>


    <h2>Produit du type : {{ product_type.name }}</h2> 
    <ul>
    {#  sort product by category name #}
    {% set products = product_type.products|sort((a, b) => a.category.name > b.category.name) %}
        {% for product in products %}
            <li>
                <a href="{{ path('app_product_show', {'id': product.id}) }}">{{ product.name }}</a>
                <ol>
                    <li>Categorie : <a href="{{ path('app_category_show', {'id': product.category.id}) }}">{{ product.category.name }}</a></li>
                    <li>Sous Categorie : <a href="{{ path('app_sub_category_show', {'id': product.subCategory.id}) }}">{{ product.subCategory.name }}</a></li>
                </ol>
            </li>
        {% endfor %}

    <a href="{{ path('app_product_type_index') }}">back to list</a>

    <a href="{{ path('app_product_type_edit', {'id': product_type.id}) }}">edit</a>

    {{ include('product_type/_delete_form.html.twig') }}
{% endblock %}
