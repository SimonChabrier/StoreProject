{% extends 'base.html.twig' %}

{% block title %}ProductType{% endblock %}

{% block content %}
    <h1>Product Type</h1>

    <table class="table mt-3">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ product_type.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ product_type.name }}</td>
            </tr>
        </tbody>
    </table>


    <h2>Produit du type : {{ product_type.name|upper }}</h2> 
    <ul>
    {#  sort product by category name #}
    {% set products = product_type.products|sort((a, b) => a.subCategory.name > b.subCategory.name) %}
        {% for product in products %}
            <li>
                <a href="{{ path('app_product_show', {'id': product.id}) }}">{{ product.name }}</a>
                <ol>
                    {% if product.category %}
                    <li>Categorie : <a href="{{ path('app_category_show', {'id': product.category.id}) }}">{{ product.category.name }}</a></li>
                    {% else %}
                    Pas de categorie pour ce produit
                    {% endif %}
                    <li>Sous Categorie : <a href="{{ path('app_sub_category_show', {'id': product.subCategory.id}) }}">{{ product.subCategory.name }}</a></li>
                </ol>
            </li>
        {% endfor %}

    <a href="{{ path('app_product_type_index') }}">Retour Ã  la liste</a>

    <a href="{{ path('app_product_type_edit', {'id': product_type.id}) }}">Modifier</a>

    {{ include('product_type/_delete_form.html.twig') }}
{% endblock %}
